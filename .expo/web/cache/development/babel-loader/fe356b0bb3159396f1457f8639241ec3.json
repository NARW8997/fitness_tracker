{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from \"react\";\nimport base64 from \"base-64\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Button } from \"react-native-elements\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nfunction Profile(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState({\n    firstName: \"\",\n    goalDailyActivity: \"0\",\n    goalDailyCalories: \"0\",\n    goalDailyCarbohydrates: \"0\",\n    goalDailyFat: \"0\",\n    goalDailyProtein: \"0\",\n    lastName: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      userinfo = _React$useState2[0],\n      setUserinfo = _React$useState2[1];\n\n  var _React$useState3 = React.useState([{\n    title: \"Personal Information\",\n    subList: [{\n      title: \"First Name\",\n      key: \"firstName\"\n    }, {\n      title: \"Last Name\",\n      key: \"lastName\"\n    }]\n  }, {\n    title: \"Fitness Goals\",\n    subList: [{\n      title: \"Daily Calories (kcal)\",\n      key: \"goalDailyCalories\"\n    }, {\n      title: \"Daily Protein (grams)\",\n      key: \"goalDailyProtein\"\n    }, {\n      title: \"Daily Carbs (grams)\",\n      key: \"goalDailyCarbohydrates\"\n    }, {\n      title: \"Daily Fat (grams)\",\n      key: \"goalDailyFat\"\n    }, {\n      title: \"Daily Activity (mins)\",\n      key: \"goalDailyActivity\"\n    }]\n  }]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      inputList = _React$useState4[0],\n      setInputList = _React$useState4[1];\n\n  React.useEffect(function () {\n    getInitInfo();\n  }, []);\n\n  var getInitInfo = function getInitInfo() {\n    var token, username, reponse, code, result;\n    return _regeneratorRuntime.async(function getInitInfo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user_token\"));\n\n          case 2:\n            token = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"username\"));\n\n          case 5:\n            username = _context.sent;\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(fetch(\"http://cs571.cs.wisc.edu:5000/users/\" + username, {\n              method: \"GET\",\n              headers: {\n                \"x-access-token\": token\n              }\n            }));\n\n          case 8:\n            reponse = _context.sent;\n            code = reponse.status;\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(reponse.json());\n\n          case 12:\n            result = _context.sent;\n\n            if (!(code !== 200)) {\n              _context.next = 16;\n              break;\n            }\n\n            Alert.alert(result.message ? result.message : \"network error\");\n            return _context.abrupt(\"return\");\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var inputChange = function inputChange(e, key) {\n    setUserinfo(function (state) {\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, key, e));\n    });\n  };\n\n  var saveProfile = function saveProfile() {\n    var token, username, reponse, code, result;\n    return _regeneratorRuntime.async(function saveProfile$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user_token\"));\n\n          case 2:\n            token = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"username\"));\n\n          case 5:\n            username = _context2.sent;\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(fetch(\"http://cs571.cs.wisc.edu:5000/users/\" + username, {\n              method: \"PUT\",\n              headers: {\n                \"x-access-token\": token\n              },\n              body: JSON.stringify(userinfo)\n            }));\n\n          case 8:\n            reponse = _context2.sent;\n            code = reponse.status;\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(reponse.json());\n\n          case 12:\n            result = _context2.sent;\n\n            if (!(code !== 200)) {\n              _context2.next = 16;\n              break;\n            }\n\n            Alert.alert(result.message ? result.message : \"network error\");\n            return _context2.abrupt(\"return\");\n\n          case 16:\n            Alert.alert(result.message ? result.message : \"success\");\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var exitProfile = function exitProfile() {\n    navigation.navigate(\"Login\");\n  };\n\n  return React.createElement(ScrollView, null, React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      paddingBottom: 30,\n      paddingTop: 20\n    }\n  }, React.createElement(Text, {\n    style: styles.h1\n  }, \"About Me\"), React.createElement(Text, {\n    style: styles.paragraph\n  }, \"Let's get to know you\"), React.createElement(Text, {\n    style: [styles.paragraph, styles.bottomDistance]\n  }, \"Specify your information below.\"), inputList.map(function (item) {\n    return React.createElement(View, {\n      key: item.title,\n      style: styles.bigWrapper\n    }, React.createElement(Text, {\n      style: [styles.head, styles.bottomDistance]\n    }, item.title), item.subList.map(function (subItem) {\n      return React.createElement(View, {\n        key: subItem.key,\n        style: styles.bigWrapper\n      }, React.createElement(Text, {\n        style: styles.title\n      }, subItem.title), React.createElement(TextInput, {\n        value: userinfo[subItem.key],\n        style: styles.input,\n        placeholder: subItem.title,\n        placeholderTextColor: \"red\",\n        onChangeText: function onChangeText(e) {\n          inputChange(e, subItem.key);\n        }\n      }));\n    }));\n  }), React.createElement(View, {\n    style: styles.btnContainer\n  }, React.createElement(Button, {\n    title: \"SAVE PROFILE\",\n    style: styles.save,\n    onPress: saveProfile\n  }), React.createElement(Button, {\n    title: \"EXIT\",\n    onPress: exitProfile\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  h1: {\n    fontSize: 26,\n    fontWeight: \"600\",\n    marginBottom: 30\n  },\n  head: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    marginBottom: 20\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bigWrapper: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    width: 200,\n    height: 35,\n    marginBottom: 28,\n    paddingLeft: 8\n  },\n  btnContainer: {\n    flexDirection: \"row\",\n    width: 200,\n    justifyContent: \"space-around\"\n  },\n  save: {\n    marginRight: 12\n  },\n  title: {\n    fontSize: 14,\n    marginBottom: 8,\n    fontWeight: \"600\"\n  },\n  paragraph: {\n    fontSize: 14,\n    marginBottom: 8\n  },\n  bottomDistance: {\n    marginBottom: 30\n  }\n});\nexport default Profile;","map":{"version":3,"sources":["D:/vs_project/react-native1-alpha-NARW8997/views/Profile.jsx"],"names":["React","base64","Button","AsyncStorage","Profile","navigation","useState","firstName","goalDailyActivity","goalDailyCalories","goalDailyCarbohydrates","goalDailyFat","goalDailyProtein","lastName","userinfo","setUserinfo","title","subList","key","inputList","setInputList","useEffect","getInitInfo","getItem","token","username","fetch","method","headers","reponse","code","status","json","result","Alert","alert","message","inputChange","e","state","saveProfile","body","JSON","stringify","exitProfile","navigate","flex","alignItems","justifyContent","paddingBottom","paddingTop","styles","h1","paragraph","bottomDistance","map","item","bigWrapper","head","subItem","input","btnContainer","save","StyleSheet","create","fontSize","fontWeight","marginBottom","container","backgroundColor","borderWidth","borderColor","width","height","paddingLeft","flexDirection","marginRight"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport base64 from \"base-64\";\nimport { View, Text, TextInput, StyleSheet, ScrollView, Alert } from \"react-native\";\nimport { Button } from \"react-native-elements\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nfunction Profile({ navigation }) {\n  const [userinfo, setUserinfo] = React.useState({\n    firstName: \"\",\n    goalDailyActivity: \"0\",\n    goalDailyCalories: \"0\",\n    goalDailyCarbohydrates: \"0\",\n    goalDailyFat: \"0\",\n    goalDailyProtein: \"0\",\n    lastName: \"\"\n  });\n\n  const [inputList, setInputList] = React.useState([\n    {\n      title: \"Personal Information\",\n      subList: [\n        {\n          title: \"First Name\",\n          key: \"firstName\",\n        },\n        {\n          title: \"Last Name\",\n          key: \"lastName\",\n        },\n      ],\n    },\n    {\n      title: \"Fitness Goals\",\n      subList: [\n        {\n          title: \"Daily Calories (kcal)\",\n          key: \"goalDailyCalories\",\n        },\n        {\n          title: \"Daily Protein (grams)\",\n          key: \"goalDailyProtein\",\n        },\n        {\n          title: \"Daily Carbs (grams)\",\n          key: \"goalDailyCarbohydrates\",\n        },\n        {\n          title: \"Daily Fat (grams)\",\n          key: \"goalDailyFat\",\n        },\n        {\n          title: \"Daily Activity (mins)\",\n          key: \"goalDailyActivity\",\n        },\n      ],\n    },\n  ]);\n\n  React.useEffect(() => {\n    getInitInfo();\n  }, []);\n\n  const getInitInfo = async () => {\n    const token = await AsyncStorage.getItem(\"user_token\");\n    const username = await AsyncStorage.getItem(\"username\");\n    const reponse = await fetch(\n      \"http://cs571.cs.wisc.edu:5000/users/\" + username,\n      {\n        method: \"GET\",\n        headers: {\n          \"x-access-token\": token,\n        },\n      }\n    );\n\n    let code = reponse.status;\n    const result = await reponse.json();\n\n    if (code !== 200) {\n      Alert.alert(result.message ? result.message : \"network error\");\n      return;\n    }\n  };\n\n  //set value\n  const inputChange = (e, key) => {\n    setUserinfo((state) => {\n      return {\n        ...state,\n        [key]: e,\n      };\n    });\n  };\n\n  //save\n  const saveProfile = async () => {\n    const token = await AsyncStorage.getItem(\"user_token\");\n    const username = await AsyncStorage.getItem(\"username\");\n    const reponse = await fetch(\n      \"http://cs571.cs.wisc.edu:5000/users/\" + username,\n      {\n        method: \"PUT\",\n        headers: {\n          \"x-access-token\": token\n        },\n        body:JSON.stringify(userinfo)\n      }\n    );\n\n    let code = reponse.status;\n    const result = await reponse.json();\n\n    if (code !== 200) {\n      Alert.alert(result.message ? result.message : \"network error\");\n      return;\n    }\n\n    Alert.alert(result.message ? result.message : \"success\");\n  };\n\n  const exitProfile = () => {\n    navigation.navigate(\"Login\");\n  };\n\n  return (\n    <ScrollView>\n      <View\n        style={{\n          flex: 1,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          paddingBottom: 30,\n          paddingTop: 20,\n        }}\n      >\n        <Text style={styles.h1}>About Me</Text>\n        <Text style={styles.paragraph}>Let's get to know you</Text>\n        <Text style={[styles.paragraph, styles.bottomDistance]}>\n          Specify your information below.\n        </Text>\n\n        {inputList.map((item) => {\n          return (\n            <View key={item.title} style={styles.bigWrapper}>\n              <Text style={[styles.head, styles.bottomDistance]}>\n                {item.title}\n              </Text>\n              {item.subList.map((subItem) => {\n                return (\n                  <View key={subItem.key} style={styles.bigWrapper}>\n                    <Text style={styles.title}>{subItem.title}</Text>\n                    <TextInput\n                      value={userinfo[subItem.key]}\n                      style={styles.input}\n                      placeholder={subItem.title}\n                      placeholderTextColor=\"red\"\n                      onChangeText={(e) => {\n                        inputChange(e, subItem.key);\n                      }}\n                    />\n                  </View>\n                );\n              })}\n            </View>\n          );\n        })}\n\n        <View style={styles.btnContainer}>\n          <Button\n            title=\"SAVE PROFILE\"\n            style={styles.save}\n            onPress={saveProfile}\n          ></Button>\n          <Button title=\"EXIT\" onPress={exitProfile}></Button>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  h1: {\n    fontSize: 26,\n    fontWeight: \"600\",\n    marginBottom: 30,\n  },\n  head: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    marginBottom: 20,\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  bigWrapper: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  input: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    width: 200,\n    height: 35,\n    marginBottom: 28,\n    paddingLeft: 8,\n  },\n  btnContainer: {\n    flexDirection: \"row\",\n    width: 200,\n    justifyContent: \"space-around\",\n  },\n  save: {\n    marginRight: 12,\n  },\n  title: {\n    fontSize: 14,\n    marginBottom: 8,\n    fontWeight: \"600\",\n  },\n  paragraph: {\n    fontSize: 14,\n    marginBottom: 8,\n  },\n  bottomDistance: {\n    marginBottom: 30,\n  },\n});\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}